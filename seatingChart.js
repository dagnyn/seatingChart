
let seatingChart = new Map();
seatingChart.set("Derek Noce", [7]);
seatingChart.set("Kimberly Noce", [7]);
seatingChart.set("Alphonse Bertoni", [7]);
seatingChart.set("Denise Bertoni", [7]);
seatingChart.set("Nick Bertoni", [7]);
seatingChart.set("Brandi Bertoni", [7]);
seatingChart.set("Laurie O'Hara", [7]);
seatingChart.set("Nan O'Hara", [7]);
seatingChart.set("Sandra Oswald", [13]);
seatingChart.set("Arthur Oswald", [13]);
seatingChart.set("Jason Oswald", [13]);
seatingChart.set("Jaime Lieber", [13]);
seatingChart.set("Hal Lieber", [13]);
seatingChart.set("Jim Kaley", [13]);
seatingChart.set("Janet Kaley", [13]);
seatingChart.set("Lydia Bell", [13]);
seatingChart.set("Larry Bell", [13]);
seatingChart.set("Holly Noce", [17]);
seatingChart.set("Luke Noce", [17]);
seatingChart.set("Eliana Lieber", [17]);
seatingChart.set("Stuart Lieber", [17]);
seatingChart.set("Nicholas Bertoni", [17]);
seatingChart.set("William Bertoni", [17]);
seatingChart.set("Kaden Jenkins", [17]);
seatingChart.set("Sammy Jenkins", [17]);
seatingChart.set("Phillip Goldsmith", [3]);
seatingChart.set("Stephanie Goldsmith", [3]);
seatingChart.set("Nathan Goldsmith", [3]);
seatingChart.set("Young Che", [3]);
seatingChart.set("Jane Che", [3]);
seatingChart.set("Sarah Che", [3]);
seatingChart.set("David Che", [3]);
seatingChart.set("Derek Cunningham", [3]);
seatingChart.set("Dawn Cunningham", [3]);
seatingChart.set("Jennifer Stoddart", [3]);
seatingChart.set("Zeanna Graves", [9]);
seatingChart.set("Betty Graves", [9]);
seatingChart.set("Ron Graves", [9]);
seatingChart.set("Zack Graves", [9]);
seatingChart.set("Frank DeProspo", [9]);
seatingChart.set("Nicole DeProspo", [9]);
seatingChart.set("Rick Fowler", [9]);
seatingChart.set("Christine Fowler", [9]);
seatingChart.set("Adam Williby", [9]);
seatingChart.set("Bree Williby", [9]);
seatingChart.set("Matt Shoemaker", [19]);
seatingChart.set("Cindy Shoemaker", [19]);
seatingChart.set("Evelyn Shoemaker", [19]);
seatingChart.set("Sonya Shoemaker", [19]);
seatingChart.set("Tom Mandt", [19]);
seatingChart.set("Holly Mandt", [19]);
seatingChart.set("Bill Lucier", [19]);
seatingChart.set("Erica Lucier", [19]);
seatingChart.set("Jim Jenkins", [19]);
seatingChart.set("Kristi Jenkins", [19]);
seatingChart.set("Ashley Werner", [15]);
seatingChart.set("Melissa Werner", [15]);
seatingChart.set("Kerri Donaldson Hanna", [15]);
seatingChart.set("Jason Donaldson", [15]);
seatingChart.set("Sydney Baldwin", [15]);
seatingChart.set("Lauren Sonnier", [15]);
seatingChart.set("James Clark", [15]);
seatingChart.set("Glen Magloff", [15]);
seatingChart.set("Cindy Magloff", [15]);
seatingChart.set("Tobin Bossola", [15]);
seatingChart.set("Nick Califano", [20]);
seatingChart.set("Morgan Califano", [20]);
seatingChart.set("Phil Long", [20]);
seatingChart.set("Madeline Lewis", [20]);
seatingChart.set("Lucas Califano", [20]);
seatingChart.set("Abigail Yazdia", [20]);
seatingChart.set("Samuel Califano", [20]);
seatingChart.set("Isabela Califano", [20]);
seatingChart.set("Sophia Califano", [20]);
seatingChart.set("Ayden Rebhan", [18]);
seatingChart.set("Cassidy Roberts", [18]);
seatingChart.set("Adam Demeter", [18]);
seatingChart.set("Alison Haas", [18]);
seatingChart.set("Larry Langtios", [18]);
seatingChart.set("Quint Johnson", [18]);
seatingChart.set("Clay Carter", [18]);
seatingChart.set("Presley Carter", [18]);
seatingChart.set("Nelson Norris", [18]);
seatingChart.set("Sabastian Fallon", [18]);
seatingChart.set("Virginia Woerishofer", [4]);
seatingChart.set("Mark Woerishofer", [4]);
seatingChart.set("Norman Grams", [4]);
seatingChart.set("Julie Grams", [4]);
seatingChart.set("Eric Grams", [4]);
seatingChart.set("Stacy King", [4]);
seatingChart.set("Jeremiah King", [4]);
seatingChart.set("Everly King", [4]);
seatingChart.set("Becky Grams", [4]);
seatingChart.set("Nick Grams", [4]);
seatingChart.set("Afshin Karjoo", [16]);
seatingChart.set("Michele Gero", [16]);
seatingChart.set("Lila Karjoo", [16]);
seatingChart.set("Anahita Karjoo", [16]);
seatingChart.set("Arman Karjoo", [16]);
seatingChart.set("Gene Ruckh", [16]);
seatingChart.set("Bonnie Ruckh", [16]);
seatingChart.set("Brandon Ruckh", [16]);
seatingChart.set("Danielle Ruckh", [16]);
seatingChart.set("Aaron Ruckh", [16]);

seatingChart.set("Siren Chudgar", [8]);
seatingChart.set("Jennifer Chudgar", [8]);
seatingChart.set("Mayank Shah", [8]);

seatingChart.set("Nitin Shah", [5]);
seatingChart.set("Tripal Shah", [5]);
seatingChart.set("Hardik Shah", [5]);
seatingChart.set("Swati Shah", [5]);
seatingChart.set("Bela Thakkar", [5]);
seatingChart.set("Jashvant Thakkar", [5]);
seatingChart.set("Jashwant Shah", [5]);
seatingChart.set("Smita Shah", [5, 8]);
seatingChart.set("Nandu Shah", [5]);
seatingChart.set("Yojana Shah", [5]);
seatingChart.set("Chintu Shah", [1]);
seatingChart.set("Prima Shah", [1]);
seatingChart.set("Manibhai Patel", [1]);
seatingChart.set("Hansaben Patel", [1]);
seatingChart.set("Pratima Shah", [1]);
seatingChart.set("Dharendra Shah", [1]);
seatingChart.set("Bhadresh Motiwala", [1]);
seatingChart.set("Vinita Motiwala", [1]);
seatingChart.set("Anil Shah", [1]);
seatingChart.set("Nayana Shah", [1]);
seatingChart.set("Jainim Shah", [11]);
seatingChart.set("Nandani Patel", [11]);
seatingChart.set("Aadi Shah", [11]);
seatingChart.set("Caitlin Kenney", [11]);
seatingChart.set("Shlok Motiwala", [11]);
seatingChart.set("Hetanxi Motiwala", [11]);
seatingChart.set("Varennyam Joshi", [11]);
seatingChart.set("Khusbu Joshi", [11]);
seatingChart.set("Anish Shah", [11]);
seatingChart.set("Mohini Shah", [11]);

seatingChart.set("Rachana Zaveri", [8]);
seatingChart.set("Minesh Zaveri", [8]);
seatingChart.set("Jatin Chudgar", [8]);
seatingChart.set("Hemisha Chudgar", [8]);
seatingChart.set("Jigar Shah", [8]);
seatingChart.set("Dipali Shah", [8]);
seatingChart.set("Riya Zaveri", [2]);
seatingChart.set("Karina Zaveri", [2]);
seatingChart.set("Dilan Zaveri", [2]);
seatingChart.set("Nina Zaveri", [2]);
seatingChart.set("Ami Burow", [2]);
seatingChart.set("Matt Burow", [2]);
seatingChart.set("Devan Burow", [2]);
seatingChart.set("Maya Burow", [2]);
seatingChart.set("Atit Shah", [14]);
seatingChart.set("Lina Shah", [14]);
seatingChart.set("Aria Shah", [14]);
seatingChart.set("Ava Shah", [14]);
seatingChart.set("Tejash Shah", [14]);
seatingChart.set("Hetal Shah", [14]);
seatingChart.set("Ojash Shah", [14]);
seatingChart.set("Archana Shah", [14]);
seatingChart.set("Sandeep Shah", [10]);
seatingChart.set("Kashmira Shah", [10]);
seatingChart.set("Ajay Shah", [10]);
seatingChart.set("Kalpana Shah", [10]);
seatingChart.set("Amita Shah", [10]);
seatingChart.set("Vijay Shah", [10]);
seatingChart.set("Sangita Shah", [10]);
seatingChart.set("Hemal Shah", [10]);
seatingChart.set("Jatin Shah", [10]);
seatingChart.set("Shaan Chudgar", [6]);
seatingChart.set("Mansi Chudgar", [6]);
seatingChart.set("Kajol Chudgar", [6]);
seatingChart.set("Mohit Pandya", [6]);
seatingChart.set("Sonali Jani", [6]);
seatingChart.set("Mohit Jani", [6]);
seatingChart.set("Arti Shah", [6]);
seatingChart.set("Akash Shah", [6]);
seatingChart.set("Vishal Shah", [6]);
seatingChart.set("Dev Shah", [6]);
seatingChart.set("Pinky Shah", [12]);
seatingChart.set("Dimple Shah", [12]);
seatingChart.set("Kandarp Shah", [12]);
seatingChart.set("Anaya Shah", [12]);
seatingChart.set("Kiara Shah", [12]);
seatingChart.set("Sunny Shah", [12]);
seatingChart.set("Nikita Shah", [12]);
seatingChart.set("Jay Shah", [12]);
seatingChart.set("Nikisha Shah", [12]);
seatingChart.set("Amir Shah", [12]);




let allNames = ["Aadi Shah", "Aaron Ruckh", "Abigail Yazdia", "Adam Demeter", "Adam Williby", "Afshin Karjoo", "Ajay Shah", "Akash Shah", "Alison Haas", "Alphonse Bertoni", "Ami Burow", "Amir Shah", "Amita Shah", "Anahita Karjoo", "Anaya Shah", "Anil Shah", "Anish Shah", "Archana Shah", "Aria Shah", "Arman Karjoo", "Arthur Oswald", "Arti Shah", "Ashley Werner", "Atit Shah", "Ava Shah", "Ayden Rebhan", "Becky Grams", "Bela Thakkar", "Betty Graves", "Bhadresh Motiwala", "Bill Lucier", "Bonnie Ruckh", "Brandi Bertoni", "Brandon Ruckh", "Bree Williby", "Caitlin Kenney", "Cassidy Roberts", "Chintu Shah", "Christine Fowler", "Cindy Magloff", "Cindy Shoemaker", "Clay Carter", "Danielle Ruckh", "David Che", "Dawn Cunningham", "Denise Bertoni", "Derek Cunningham", "Derek Noce", "Dev Shah", "Devan Burow", "Dharendra Shah", "Dilan Zaveri", "Dimple Shah", "Dipali Shah", "Eliana Lieber", "Eric Grams", "Erica Lucier", "Evelyn Shoemaker", "Everly King", "Frank DeProspo", "Gene Ruckh", "Glen Magloff", "Hal Lieber", "Hansaben Patel", "Hardik Shah", "Hemal Shah", "Hemisha Chudgar", "Hetal Shah", "Hetanxi Motiwala", "Holly Mandt", "Holly Noce", "Isabela Califano", "Jaime Lieber", "Jainim Shah", "James Clark", "Jane Che", "Janet Kaley", "Jashvant Thakkar", "Jashwant Shah", "Jason Donaldson", "Jason Oswald", "Jatin Chudgar", "Jatin Shah", "Jay Shah", "Jennifer Chudgar", "Jennifer Stoddart", "Jeremiah King", "Jigar Shah", "Jim Jenkins", "Jim Kaley", "Julie Grams", "Kaden Jenkins", "Kajol Chudgar", "Kalpana Shah", "Kandarp Shah", "Karina Zaveri", "Kashmira Shah", "Kerri Donaldson Hanna", "Khusbu Joshi", "Kiara Shah", "Kimberly Noce", "Kristi Jenkins", "Larry Bell", "Larry Langtios", "Lauren Sonnier", "Laurie O'Hara", "Lila Karjoo", "Lina Shah", "Lucas Califano", "Luke Noce", "Lydia Bell", "Madeline Lewis", "Manibhai Patel", "Mansi Chudgar", "Mark Woerishofer", "Matt Burow", "Matt Shoemaker", "Maya Burow", "Mayank Shah", "Melissa Werner", "Michele Gero", "Minesh Zaveri", "Mohini Shah", "Mohit Jani", "Mohit Pandya", "Morgan Califano", "Nan O'Hara", "Nandani Patel", "Nandu Shah", "Nathan Goldsmith", "Nayana Shah", "Nelson Norris", "Nicholas Bertoni", "Nick Bertoni", "Nick Califano", "Nick Grams", "Nicole DeProspo", "Nikisha Shah", "Nikita Shah", "Nina Zaveri", "Nitin Shah", "Norman Grams", "Ojash Shah", "Phil Long", "Phillip Goldsmith", "Pinky Shah", "Pratima Shah", "Presley Carter", "Prima Shah", "Quint Johnson", "Rachana Zaveri", "Rick Fowler", "Riya Zaveri", "Ron Graves", "Sabastian Fallon", "Sammy Jenkins", "Samuel Califano", "Sandeep Shah", "Sandra Oswald", "Sangita Shah", "Sarah Che", "Shaan Chudgar", "Shlok Motiwala", "Siren Chudgar", "Smita Shah", "Sonali Jani", "Sonya Shoemaker", "Sophia Califano", "Stacy King", "Stephanie Goldsmith", "Stuart Lieber", "Sunny Shah", "Swati Shah", "Sydney Baldwin", "Tejash Shah", "Tobin Bossola", "Tom Mandt", "Tripal Shah", "Varennyam Joshi", "Vijay Shah", "Vinita Motiwala", "Virginia Woerishofer", "Vishal Shah", "William Bertoni", "Yojana Shah", "Young Che", "Zack Graves", "Zeanna Graves", ]



// =================== CALLBACKS =========================

function clearInfo() {

  document.getElementById('tableNum0').style.display = "none";
  document.getElementById('line0').style.display = "none";
  var guestList = document.getElementById('tableGuests0');
  while (guestList.firstChild) {
    guestList.removeChild(guestList.firstChild);
  }

  document.getElementById('tableNum1').style.display = "none";
  document.getElementById('line1').style.display = "none";
  guestList = document.getElementById('tableGuests1');
  while (guestList.firstChild) {
    guestList.removeChild(guestList.firstChild);
  }

  document.getElementById('errorMsg').style.display = "none";

}

function searchChart() {

  let name = document.getElementById('name').value;

  clearInfo();

  // Checking if a key exists
  if (seatingChart.has(name)) {

    // Clear error message
    document.getElementById('errorMsg').style.display = "none";

    // Populate table number
    var table = seatingChart.get(name);
    
    if (table.length > 1) {
      var msg = document.getElementById('errorMsg');
      msg.textContent = "Multiple guests are named " + name + ". " + "Please sit with your party.";
      msg.style.display = "block";
    }

    for (let t in table) {
      console.log(table[t]);
      document.getElementById('tableNum' + t).innerText = "TABLE " + table[t];
      document.getElementById('tableNum' + t).style.display = "block";
      document.getElementById('line' + t).style.display = "block";

      // Get all guests at table

      var guestList = document.getElementById('tableGuests' + t);
      for (const [guest, tableNum] of seatingChart.entries()) {
        if (tableNum.includes(table[t])) {
          var guestItem = document.createElement('li');
          var guestName = document.createElement('p');
          guestName.textContent = guest;
          guestName.setAttribute('class', 'regText');
          guestItem.appendChild(guestName);

          guestList.appendChild(guestItem);

          // tableMembers.push(guest);
        }
      }    
    }
    
  }
  else {
    clearInfo();

    // Display error message
    if (name != "") {
      var msg = document.getElementById('errorMsg');
      msg.textContent = "'" + name + "'" + " was not found. Check capitalization";
      msg.style.display = "block";
    }
    
  }
}


// ====================== BUTTONS ==========================
// const enterButton = document.querySelector(".enterButton");
// enterButton.addEventListener("click", searchChart);

const searchBar = document.getElementById("name");
searchBar.addEventListener("keydown", function(event) {
    if (event.key === "Enter") {
        event.preventDefault();
        searchChart();
    }
    else {
      clearInfo();
    }
});

autocomplete(document.getElementById("name"), allNames);

let autompletedName = "";


// ================= AUTOCOMPLETE ========================
function autocomplete(inp, arr) {
  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      /*close any already open lists of autocompleted values*/
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      /*create a DIV element that will contain the items (values):*/
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "autocomplete-list");
      a.setAttribute("class", "autocomplete-items");
      /*append the DIV element as a child of the autocomplete container:*/
      this.parentNode.appendChild(a);
      /*for each item in the array...*/
      for (i = 0; i < arr.length; i++) {
        /*check if the item starts with the same letters as the text field value:*/
        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
          /*create a DIV element for each matching element:*/
          b = document.createElement("DIV");
          /*make the matching letters bold:*/
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          /*insert a input field that will hold the current array item's value:*/
          // b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          b.setAttribute('data-value', arr[i]);
          /*execute a function when someone clicks on the item value (DIV element):*/
              b.addEventListener("click", function(e) {
              /*insert the value for the autocomplete text field:*/
              // inp.value = this.getElementsByTagName("input")[0].value;
              inp.value = this.getAttribute('data-value');
              // SUBMIT THE SEARCH
              searchChart();
              /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
              closeAllLists();
          });
          a.appendChild(b);
        }
      }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "autocomplete-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
        /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
        currentFocus++;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 38) { //up
        /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
        currentFocus--;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 13) {
        /*If the ENTER key is pressed, prevent the form from being submitted,*/
        e.preventDefault();
        if (currentFocus > -1) {
          /*and simulate a click on the "active" item:*/
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
      x[i].parentNode.removeChild(x[i]);
    }
  }
}
/*execute a function when someone clicks in the document:*/
document.addEventListener("click", function (e) {
    closeAllLists(e.target);
});
}